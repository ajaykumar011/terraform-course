This example creates a pipeline from taking source S3 and building it then deploying to S3.
Build

[Container] 2020/10/05 01:06:54 Waiting for agent ping
[Container] 2020/10/05 01:06:57 Waiting for DOWNLOAD_SOURCE
[Container] 2020/10/05 01:06:59 Phase is DOWNLOAD_SOURCE
[Container] 2020/10/05 01:06:59 CODEBUILD_SRC_DIR=/codebuild/output/src991796226/src
[Container] 2020/10/05 01:06:59 YAML location is /codebuild/output/src991796226/src/ArchiveItems/buildspec-plan.yml
[Container] 2020/10/05 01:06:59 Processing environment variables
[Container] 2020/10/05 01:06:59 Selecting 'python' runtime version '3.7' based on manual selections...
[Container] 2020/10/05 01:06:59 Running command echo "Installing Python version 3.7 ..."
Installing Python version 3.7 ...

[Container] 2020/10/05 01:06:59 Running command pyenv global  $PYTHON_37_VERSION

[Container] 2020/10/05 01:06:59 Run-as user: root
[Container] 2020/10/05 01:06:59 Moving to directory /codebuild/output/src991796226/src
[Container] 2020/10/05 01:06:59 Registering with agent
[Container] 2020/10/05 01:06:59 Phases found in YAML: 4
[Container] 2020/10/05 01:06:59  PRE_BUILD: 1 commands
[Container] 2020/10/05 01:06:59  BUILD: 4 commands
[Container] 2020/10/05 01:06:59  POST_BUILD: 2 commands
[Container] 2020/10/05 01:06:59  INSTALL: 5 commands
[Container] 2020/10/05 01:06:59 Phase complete: DOWNLOAD_SOURCE State: SUCCEEDED
[Container] 2020/10/05 01:06:59 Phase context status code:  Message: 
[Container] 2020/10/05 01:06:59 Entering phase INSTALL
[Container] 2020/10/05 01:06:59 Running command echo "Entering install phase..."
Entering install phase...

[Container] 2020/10/05 01:06:59 Running command cd /usr/bin

[Container] 2020/10/05 01:06:59 Running command wget https://releases.hashicorp.com/terraform/${TF_VERSION}/terraform_${TF_VERSION}_linux_amd64.zip
--2020-10-05 01:06:59--  https://releases.hashicorp.com/terraform/0.12.0/terraform_0.12.0_linux_amd64.zip
Resolving releases.hashicorp.com (releases.hashicorp.com)... 199.232.21.183, 2a04:4e42:24::439
Connecting to releases.hashicorp.com (releases.hashicorp.com)|199.232.21.183|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 14907580 (14M) [application/zip]
Saving to: 'terraform_0.12.0_linux_amd64.zip'

     0K .......... .......... .......... .......... ..........  0%  873K 17s
    50K .......... .......... .......... .......... ..........  0% 2.02M 12s
   100K .......... .......... .......... .......... ..........  1% 5.22M 9s
   150K .......... .......... .......... .......... ..........  1% 2.51M 8s
   200K .......... .......... .......... .......... ..........  1% 4.30M 7s
   250K .......... .......... .......... .......... ..........  2% 3.40M 6s
   300K .......... .......... .......... .......... ..........  2% 4.07M 6s
   350K .......... .......... .......... .......... ..........  2% 3.57M 6s
   400K .......... .......... .......... .......... ..........  3% 4.33M 5s
   450K .......... .......... .......... .......... ..........  3% 4.22M 5s
   500K .......... .......... .......... .......... ..........  3% 3.93M 5s
   550K .......... .......... .......... .......... ..........  4% 4.49M 5s
   600K .......... .......... .......... .......... ..........  4% 4.41M 5s
   650K .......... .......... .......... .......... ..........  4% 4.50M 5s
   700K .......... .......... .......... .......... ..........  5% 4.16M 4s
   750K .......... .......... .......... .......... ..........  5% 4.92M 4s
   800K .......... .......... .......... .......... ..........  5% 5.47M 4s
   850K .......... .......... .......... .......... ..........  6% 3.49M 4s
   900K .......... .......... .......... .......... ..........  6% 6.14M 4s
   950K .......... .......... .......... .......... ..........  6% 4.52M 4s
  1000K .......... .......... .......... .......... ..........  7% 5.69M 4s
  1050K .......... .......... .......... .......... ..........  7% 5.40M 4s
  1100K .......... .......... .......... .......... ..........  7% 5.85M 4s
  1150K .......... .......... .......... .......... ..........  8% 5.71M 4s
  1200K .......... .......... .......... .......... ..........  8% 5.40M 4s
  1250K .......... .......... .......... .......... ..........  8% 4.69M 4s
  1300K .......... .......... .......... .......... ..........  9% 6.01M 3s
  1350K .......... .......... .......... .......... ..........  9% 5.54M 3s
  1400K .......... .......... .......... .......... ..........  9% 6.11M 3s
  1450K .......... .......... .......... .......... .......... 10% 6.42M 3s
  1500K .......... .......... .......... .......... .......... 10% 7.08M 3s
  1550K .......... .......... .......... .......... .......... 10% 5.65M 3s
  1600K .......... .......... .......... .......... .......... 11% 6.47M 3s
  1650K .......... .......... .......... .......... .......... 11% 5.64M 3s
  1700K .......... .......... .......... .......... .......... 12% 6.60M 3s
  1750K .......... .......... .......... .......... .......... 12% 6.36M 3s
  1800K .......... .......... .......... .......... .......... 12% 6.54M 3s
  1850K .......... .......... .......... .......... .......... 13% 7.36M 3s
  1900K .......... .......... .......... .......... .......... 13% 7.47M 3s
  1950K .......... .......... .......... .......... .......... 13% 6.54M 3s
  2000K .......... .......... .......... .......... .......... 14% 7.30M 3s
  2050K .......... .......... .......... .......... .......... 14% 5.75M 3s
  2100K .......... .......... .......... .......... .......... 14% 7.75M 3s
  2150K .......... .......... .......... .......... .......... 15% 7.63M 3s
  2200K .......... .......... .......... .......... .......... 15% 7.56M 3s
  2250K .......... .......... .......... .......... .......... 15% 8.25M 3s
  2300K .......... .......... .......... .......... .......... 16% 8.03M 3s
  2350K .......... .......... .......... .......... .......... 16% 6.91M 3s
  2400K .......... .......... .......... .......... .......... 16% 9.23M 3s
  2450K .......... .......... .......... .......... .......... 17% 6.52M 3s
  2500K .......... .......... .......... .......... .......... 17% 6.74M 2s
  2550K .......... .......... .......... .......... .......... 17% 8.28M 2s
  2600K .......... .......... .......... .......... .......... 18% 9.22M 2s
  2650K .......... .......... .......... .......... .......... 18% 8.59M 2s
  2700K .......... .......... .......... .......... .......... 18% 8.11M 2s
  2750K .......... .......... .......... .......... .......... 19% 7.60M 2s
  2800K .......... .......... .......... .......... .......... 19% 10.2M 2s
  2850K .......... .......... .......... .......... .......... 19% 7.23M 2s
  2900K .......... .......... .......... .......... .......... 20% 7.93M 2s
  2950K .......... .......... .......... .......... .......... 20% 9.82M 2s
  3000K .......... .......... .......... .......... .......... 20% 8.80M 2s
  3050K .......... .......... .......... .......... .......... 21% 8.83M 2s
  3100K .......... .......... .......... .......... .......... 21% 10.6M 2s
  3150K .......... .......... .......... .......... .......... 21% 8.99M 2s
  3200K .......... .......... .......... .......... .......... 22% 9.21M 2s
  3250K .......... .......... .......... .......... .......... 22% 7.89M 2s
  3300K .......... .......... .......... .......... .......... 23% 8.87M 2s
  3350K .......... .......... .......... .......... .......... 23% 10.5M 2s
  3400K .......... .......... .......... .......... .......... 23% 9.38M 2s
  3450K .......... .......... .......... .......... .......... 24% 9.12M 2s
  3500K .......... .......... .......... .......... .......... 24% 9.99M 2s
  3550K .......... .......... .......... .......... .......... 24% 9.82M 2s
  3600K .......... .......... .......... .......... .......... 25% 11.8M 2s
  3650K .......... .......... .......... .......... .......... 25% 7.42M 2s
  3700K .......... .......... .......... .......... .......... 25% 12.2M 2s
  3750K .......... .......... .......... .......... .......... 26% 8.86M 2s
  3800K .......... .......... .......... .......... .......... 26% 10.7M 2s
  3850K .......... .......... .......... .......... .......... 26% 11.0M 2s
  3900K .......... .......... .......... .......... .......... 27% 14.7M 2s
  3950K .......... .......... .......... .......... .......... 27% 9.84M 2s
  4000K .......... .......... .......... .......... .......... 27% 9.01M 2s
  4050K .......... .......... .......... .......... .......... 28% 8.46M 2s
  4100K .......... .......... .......... .......... .......... 28% 12.8M 2s
  4150K .......... .......... .......... .......... .......... 28% 13.2M 2s
  4200K .......... .......... .......... .......... .......... 29% 12.2M 2s
  4250K .......... .......... .......... .......... .......... 29% 9.78M 2s
  4300K .......... .......... .......... .......... .......... 29% 8.44M 2s
  4350K .......... .......... .......... .......... .......... 30% 17.6M 2s
  4400K .......... .......... .......... .......... .......... 30% 10.4M 2s
  4450K .......... .......... .......... .......... .......... 30% 10.4M 2s
  4500K .......... .......... .......... .......... .......... 31% 14.7M 2s
  4550K .......... .......... .......... .......... .......... 31% 10.4M 2s
  4600K .......... .......... .......... .......... .......... 31% 8.51M 2s
  4650K .......... .......... .......... .......... .......... 32% 17.0M 2s
  4700K .......... .......... .......... .......... .......... 32% 12.8M 2s
  4750K .......... .......... .......... .......... .......... 32% 14.7M 2s
  4800K .......... .......... .......... .......... .......... 33% 13.4M 2s
  4850K .......... .......... .......... .......... .......... 33% 8.03M 1s
  4900K .......... .......... .......... .......... .......... 34% 14.1M 1s
  4950K .......... .......... .......... .......... .......... 34% 9.39M 1s
  5000K .......... .......... .......... .......... .......... 34% 14.6M 1s
  5050K .......... .......... .......... .......... .......... 35% 17.8M 1s
  5100K .......... .......... .......... .......... .......... 35% 14.8M 1s
  5150K .......... .......... .......... .......... .......... 35% 14.7M 1s
  5200K .......... .......... .......... .......... .......... 36% 9.64M 1s
  5250K .......... .......... .......... .......... .......... 36% 7.72M 1s
  5300K .......... .......... .......... .......... .......... 36% 15.8M 1s
  5350K .......... .......... .......... .......... .......... 37% 14.0M 1s
  5400K .......... .......... .......... .......... .......... 37% 22.6M 1s
  5450K .......... .......... .......... .......... .......... 37% 14.3M 1s
  5500K .......... .......... .......... .......... .......... 38% 14.4M 1s
  5550K .......... .......... .......... .......... .......... 38% 11.9M 1s
  5600K .......... .......... .......... .......... .......... 38% 8.45M 1s
  5650K .......... .......... .......... .......... .......... 39% 13.2M 1s
  5700K .......... .......... .......... .......... .......... 39% 14.3M 1s
  5750K .......... .......... .......... .......... .......... 39% 19.5M 1s
  5800K .......... .......... .......... .......... .......... 40% 16.0M 1s
  5850K .......... .......... .......... .......... .......... 40% 15.8M 1s
  5900K .......... .......... .......... .......... .......... 40% 12.2M 1s
  5950K .......... .......... .......... .......... .......... 41% 19.0M 1s
  6000K .......... .......... .......... .......... .......... 41% 10.9M 1s
  6050K .......... .......... .......... .......... .......... 41% 9.09M 1s
  6100K .......... .......... .......... .......... .......... 42% 20.4M 1s
  6150K .......... .......... .......... .......... .......... 42% 23.1M 1s
  6200K .......... .......... .......... .......... .......... 42% 16.0M 1s
  6250K .......... .......... .......... .......... .......... 43% 16.6M 1s
  6300K .......... .......... .......... .......... .......... 43% 12.8M 1s
  6350K .......... .......... .......... .......... .......... 43% 8.83M 1s
  6400K .......... .......... .......... .......... .......... 44% 20.2M 1s
  6450K .......... .......... .......... .......... .......... 44% 10.6M 1s
  6500K .......... .......... .......... .......... .......... 44% 22.1M 1s
  6550K .......... .......... .......... .......... .......... 45% 19.1M 1s
  6600K .......... .......... .......... .......... .......... 45% 17.2M 1s
  6650K .......... .......... .......... .......... .......... 46% 22.8M 1s
  6700K .......... .......... .......... .......... .......... 46% 13.2M 1s
  6750K .......... .......... .......... .......... .......... 46% 8.82M 1s
  6800K .......... .......... .......... .......... .......... 47% 19.8M 1s
  6850K .......... .......... .......... .......... .......... 47% 12.0M 1s
  6900K .......... .......... .......... .......... .......... 47% 17.5M 1s
  6950K .......... .......... .......... .......... .......... 48% 22.2M 1s
  7000K .......... .......... .......... .......... .......... 48% 19.6M 1s
  7050K .......... .......... .......... .......... .......... 48% 16.5M 1s
  7100K .......... .......... .......... .......... .......... 49% 24.7M 1s
  7150K .......... .......... .......... .......... .......... 49% 14.9M 1s
  7200K .......... .......... .......... .......... .......... 49% 11.1M 1s
  7250K .......... .......... .......... .......... .......... 50% 11.0M 1s
  7300K .......... .......... .......... .......... .......... 50% 20.6M 1s
  7350K .......... .......... .......... .......... .......... 50% 20.6M 1s
  7400K .......... .......... .......... .......... .......... 51% 18.1M 1s
  7450K .......... .......... .......... .......... .......... 51% 17.8M 1s
  7500K .......... .......... .......... .......... .......... 51% 24.3M 1s
  7550K .......... .......... .......... .......... .......... 52% 18.6M 1s
  7600K .......... .......... .......... .......... .......... 52% 21.1M 1s
  7650K .......... .......... .......... .......... .......... 52% 8.27M 1s
  7700K .......... .......... .......... .......... .......... 53% 14.3M 1s
  7750K .......... .......... .......... .......... .......... 53% 20.1M 1s
  7800K .......... .......... .......... .......... .......... 53% 26.5M 1s
  7850K .......... .......... .......... .......... .......... 54% 18.1M 1s
  7900K .......... .......... .......... .......... .......... 54% 28.8M 1s
  7950K .......... .......... .......... .......... .......... 54% 16.0M 1s
  8000K .......... .......... .......... .......... .......... 55% 30.0M 1s
  8050K .......... .......... .......... .......... .......... 55% 15.1M 1s
  8100K .......... .......... .......... .......... .......... 55% 9.76M 1s
  8150K .......... .......... .......... .......... .......... 56% 24.1M 1s
  8200K .......... .......... .......... .......... .......... 56% 14.3M 1s
  8250K .......... .......... .......... .......... .......... 57% 27.7M 1s
  8300K .......... .......... .......... .......... .......... 57% 15.3M 1s
  8350K .......... .......... .......... .......... .......... 57% 20.9M 1s
  8400K .......... .......... .......... .......... .......... 58% 27.7M 1s
  8450K .......... .......... .......... .......... .......... 58% 16.8M 1s
  8500K .......... .......... .......... .......... .......... 58% 22.6M 1s
  8550K .......... .......... .......... .......... .......... 59% 27.5M 1s
  8600K .......... .......... .......... .......... .......... 59% 8.78M 1s
  8650K .......... .......... .......... .......... .......... 59% 15.7M 1s
  8700K .......... .......... .......... .......... .......... 60% 33.6M 1s
  8750K .......... .......... .......... .......... .......... 60% 18.5M 1s
  8800K .......... .......... .......... .......... .......... 60% 21.0M 1s
  8850K .......... .......... .......... .......... .......... 61% 19.0M 1s
  8900K .......... .......... .......... .......... .......... 61% 26.7M 1s
  8950K .......... .......... .......... .......... .......... 61% 19.4M 1s
  9000K .......... .......... .......... .......... .......... 62% 36.0M 1s
  9050K .......... .......... .......... .......... .......... 62% 17.3M 1s
  9100K .......... .......... .......... .......... .......... 62% 11.0M 1s
  9150K .......... .......... .......... .......... .......... 63% 24.3M 1s
  9200K .......... .......... .......... .......... .......... 63% 19.0M 1s
  9250K .......... .......... .......... .......... .......... 63% 18.0M 1s
  9300K .......... .......... .......... .......... .......... 64% 18.4M 1s
  9350K .......... .......... .......... .......... .......... 64% 27.2M 1s
  9400K .......... .......... .......... .......... .......... 64% 20.4M 1s
  9450K .......... .......... .......... .......... .......... 65% 35.5M 1s
  9500K .......... .......... .......... .......... .......... 65% 18.9M 1s
  9550K .......... .......... .......... .......... .......... 65% 28.4M 1s
  9600K .......... .......... .......... .......... .......... 66% 23.9M 1s
  9650K .......... .......... .......... .......... .......... 66% 10.2M 1s
  9700K .......... .......... .......... .......... .......... 66% 14.5M 1s
  9750K .......... .......... .......... .......... .......... 67% 23.8M 1s
  9800K .......... .......... .......... .......... .......... 67% 22.5M 1s
  9850K .......... .......... .......... .......... .......... 68% 23.1M 1s
  9900K .......... .......... .......... .......... .......... 68% 25.7M 0s
  9950K .......... .......... .......... .......... .......... 68% 29.0M 0s
 10000K .......... .......... .......... .......... .......... 69% 29.6M 0s
 10050K .......... .......... .......... .......... .......... 69% 19.1M 0s
 10100K .......... .......... .......... .......... .......... 69% 19.3M 0s
 10150K .......... .......... .......... .......... .......... 70% 24.9M 0s
 10200K .......... .......... .......... .......... .......... 70% 12.3M 0s
 10250K .......... .......... .......... .......... .......... 70% 14.2M 0s
 10300K .......... .......... .......... .......... .......... 71% 40.8M 0s
 10350K .......... .......... .......... .......... .......... 71% 26.0M 0s
 10400K .......... .......... .......... .......... .......... 71% 28.2M 0s
 10450K .......... .......... .......... .......... .......... 72% 16.5M 0s
 10500K .......... .......... .......... .......... .......... 72% 41.0M 0s
 10550K .......... .......... .......... .......... .......... 72% 19.5M 0s
 10600K .......... .......... .......... .......... .......... 73% 29.6M 0s
 10650K .......... .......... .......... .......... .......... 73% 25.0M 0s
 10700K .......... .......... .......... .......... .......... 73% 44.9M 0s
 10750K .......... .......... .......... .......... .......... 74% 19.1M 0s
 10800K .......... .......... .......... .......... .......... 74% 14.8M 0s
 10850K .......... .......... .......... .......... .......... 74% 12.5M 0s
 10900K .......... .......... .......... .......... .......... 75% 23.5M 0s
 10950K .......... .......... .......... .......... .......... 75% 28.3M 0s
 11000K .......... .......... .......... .......... .......... 75% 33.1M 0s
 11050K .......... .......... .......... .......... .......... 76% 24.5M 0s
 11100K .......... .......... .......... .......... .......... 76% 25.4M 0s
 11150K .......... .......... .......... .......... .......... 76% 21.2M 0s
 11200K .......... .......... .......... .......... .......... 77% 48.7M 0s
 11250K .......... .......... .......... .......... .......... 77% 22.0M 0s
 11300K .......... .......... .......... .......... .......... 77% 23.8M 0s
 11350K .......... .......... .......... .......... .......... 78% 37.1M 0s
 11400K .......... .......... .......... .......... .......... 78% 12.4M 0s
 11450K .......... .......... .......... .......... .......... 78% 53.2M 0s
 11500K .......... .......... .......... .......... .......... 79% 13.8M 0s
 11550K .......... .......... .......... .......... .......... 79% 23.5M 0s
 11600K .......... .......... .......... .......... .......... 80% 23.7M 0s
 11650K .......... .......... .......... .......... .......... 80% 23.0M 0s
 11700K .......... .......... .......... .......... .......... 80% 30.1M 0s
 11750K .......... .......... .......... .......... .......... 81% 31.0M 0s
 11800K .......... .......... .......... .......... .......... 81% 29.4M 0s
 11850K .......... .......... .......... .......... .......... 81% 23.8M 0s
 11900K .......... .......... .......... .......... .......... 82% 44.8M 0s
 11950K .......... .......... .......... .......... .......... 82% 20.9M 0s
 12000K .......... .......... .......... .......... .......... 82% 47.3M 0s
 12050K .......... .......... .......... .......... .......... 83% 12.3M 0s
 12100K .......... .......... .......... .......... .......... 83% 29.4M 0s
 12150K .......... .......... .......... .......... .......... 83% 17.9M 0s
 12200K .......... .......... .......... .......... .......... 84% 23.3M 0s
 12250K .......... .......... .......... .......... .......... 84% 32.3M 0s
 12300K .......... .......... .......... .......... .......... 84% 18.1M 0s
 12350K .......... .......... .......... .......... .......... 85% 74.0M 0s
 12400K .......... .......... .......... .......... .......... 85% 23.3M 0s
 12450K .......... .......... .......... .......... .......... 85% 23.3M 0s
 12500K .......... .......... .......... .......... .......... 86% 31.1M 0s
 12550K .......... .......... .......... .......... .......... 86% 31.6M 0s
 12600K .......... .......... .......... .......... .......... 86% 34.2M 0s
 12650K .......... .......... .......... .......... .......... 87% 25.4M 0s
 12700K .......... .......... .......... .......... .......... 87% 16.0M 0s
 12750K .......... .......... .......... .......... .......... 87% 32.9M 0s
 12800K .......... .......... .......... .......... .......... 88% 41.8M 0s
 12850K .......... .......... .......... .......... .......... 88% 16.2M 0s
 12900K .......... .......... .......... .......... .......... 88% 26.0M 0s
 12950K .......... .......... .......... .......... .......... 89% 33.3M 0s
 13000K .......... .......... .......... .......... .......... 89% 19.0M 0s
 13050K .......... .......... .......... .......... .......... 89% 50.4M 0s
 13100K .......... .......... .......... .......... .......... 90% 24.8M 0s
 13150K .......... .......... .......... .......... .......... 90% 33.9M 0s
 13200K .......... .......... .......... .......... .......... 91% 30.1M 0s
 13250K .......... .......... .......... .......... .......... 91% 30.9M 0s
 13300K .......... .......... .......... .......... .......... 91% 26.2M 0s
 13350K .......... .......... .......... .......... .......... 92% 30.3M 0s
 13400K .......... .......... .......... .......... .......... 92% 15.2M 0s
 13450K .......... .......... .......... .......... .......... 92% 30.3M 0s
 13500K .......... .......... .......... .......... .......... 93% 41.1M 0s
 13550K .......... .......... .......... .......... .......... 93% 28.8M 0s
 13600K .......... .......... .......... .......... .......... 93% 32.6M 0s
 13650K .......... .......... .......... .......... .......... 94% 26.1M 0s
 13700K .......... .......... .......... .......... .......... 94% 23.8M 0s
 13750K .......... .......... .......... .......... .......... 94% 23.1M 0s
 13800K .......... .......... .......... .......... .......... 95% 30.4M 0s
 13850K .......... .......... .......... .......... .......... 95% 32.9M 0s
 13900K .......... .......... .......... .......... .......... 95% 28.9M 0s
 13950K .......... .......... .......... .......... .......... 96% 48.4M 0s
 14000K .......... .......... .......... .......... .......... 96% 28.1M 0s
 14050K .......... .......... .......... .......... .......... 96% 20.3M 0s
 14100K .......... .......... .......... .......... .......... 97% 31.1M 0s
 14150K .......... .......... .......... .......... .......... 97% 19.5M 0s
 14200K .......... .......... .......... .......... .......... 97% 30.1M 0s
 14250K .......... .......... .......... .......... .......... 98% 26.6M 0s
 14300K .......... .......... .......... .......... .......... 98% 46.2M 0s
 14350K .......... .......... .......... .......... .......... 98% 32.8M 0s
 14400K .......... .......... .......... .......... .......... 99% 27.1M 0s
 14450K .......... .......... .......... .......... .......... 99% 19.9M 0s
 14500K .......... .......... .......... .......... .......... 99% 28.4M 0s
 14550K ........                                              100%  262M=1.2s

2020-10-05 01:07:00 (11.4 MB/s) - 'terraform_0.12.0_linux_amd64.zip' saved [14907580/14907580]


[Container] 2020/10/05 01:07:00 Running command unzip terraform_${TF_VERSION}_linux_amd64.zip
Archive:  terraform_0.12.0_linux_amd64.zip
  inflating: terraform               

[Container] 2020/10/05 01:07:01 Running command terraform version
Terraform v0.12.0

Your version of Terraform is out of date! The latest version
is 0.13.4. You can update by downloading from www.terraform.io/downloads.html

[Container] 2020/10/05 01:07:02 Phase complete: INSTALL State: SUCCEEDED
[Container] 2020/10/05 01:07:02 Phase context status code:  Message: 
[Container] 2020/10/05 01:07:02 Entering phase PRE_BUILD
[Container] 2020/10/05 01:07:02 Running command echo "Entering build phase..."
Entering build phase...

[Container] 2020/10/05 01:07:02 Phase complete: PRE_BUILD State: SUCCEEDED
[Container] 2020/10/05 01:07:02 Phase context status code:  Message: 
[Container] 2020/10/05 01:07:02 Entering phase BUILD
[Container] 2020/10/05 01:07:02 Running command echo "Entering build phase..."
Entering build phase...

[Container] 2020/10/05 01:07:02 Running command echo Build started on `date`
Build started on Mon Oct 5 01:07:02 UTC 2020

[Container] 2020/10/05 01:07:02 Running command cd ${CODEBUILD_SRC_DIR}/${TF_FILES}

[Container] 2020/10/05 01:07:02 Running command echo "Processing lambda modules ..."; 
terraform init; 
terraform plan -var name_prefix=${name_prefix} -var name_suffix=${name_suffix} -var environment=${environment} -out=${environment}_Lambda_final; 

Processing lambda modules ...
Initializing modules...

Initializing the backend...

Initializing provider plugins...
- Checking for available provider plugins...
- Downloading plugin for provider "aws" (hashicorp/aws) 3.9.0...

The following providers do not have any version constraints in configuration,
so the latest version was installed.

To prevent automatic upgrades to new major versions that may contain breaking
changes, it is recommended to add version = "..." constraints to the
corresponding provider blocks in configuration, with the constraint strings
suggested below.

* provider.aws: version = "~> 3.9"

Terraform has been successfully initialized!

You may now begin working with Terraform. Try running "terraform plan" to see
any changes that are required for your infrastructure. All Terraform commands
should now work.

If you ever set or change modules or backend configuration for Terraform,
rerun this command to reinitialize your working directory. If you forget, other
commands will detect it and remind you to do so if necessary.
Refreshing Terraform state in-memory prior to plan...
The refreshed state will be used to calculate this plan, but will not be
persisted to local or remote state storage.


------------------------------------------------------------------------

An execution plan has been generated and is shown below.
Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  # module.hello.aws_iam_role.iam_hello will be created
  + resource "aws_iam_role" "iam_hello" {
      + arn                   = (known after apply)
      + assume_role_policy    = jsonencode(
            {
              + Statement = [
                  + {
                      + Action    = "sts:AssumeRole"
                      + Effect    = "Allow"
                      + Principal = {
                          + Service = "lambda.amazonaws.com"
                        }
                      + Sid       = ""
                    },
                ]
              + Version   = "2012-10-17"
            }
        )
      + create_date           = (known after apply)
      + force_detach_policies = false
      + id                    = (known after apply)
      + max_session_duration  = 3600
      + name                  = "ajay_iam_hello"
      + path                  = "/"
      + unique_id             = (known after apply)
    }

  # module.hello.aws_lambda_function.hello_lambda will be created
  + resource "aws_lambda_function" "hello_lambda" {
      + arn                            = (known after apply)
      + filename                       = "modules/HELLO/helloworld.py.zip"
      + function_name                  = "ajay_blog_demo_hello"
      + handler                        = "helloworld.handler"
      + id                             = (known after apply)
      + invoke_arn                     = (known after apply)
      + last_modified                  = (known after apply)
      + memory_size                    = 128
      + publish                        = false
      + qualified_arn                  = (known after apply)
      + reserved_concurrent_executions = -1
      + role                           = (known after apply)
      + runtime                        = "python3.7"
      + source_code_hash               = "deMH8pgOS8LQKnk+OSNeK4wC18Q1Ss/yQkyOJkaoK74="
      + source_code_size               = (known after apply)
      + timeout                        = 3
      + version                        = (known after apply)

      + tracing_config {
          + mode = (known after apply)
        }
    }

  # module.message.aws_iam_role.iam_message will be created
  + resource "aws_iam_role" "iam_message" {
      + arn                   = (known after apply)
      + assume_role_policy    = jsonencode(
            {
              + Statement = [
                  + {
                      + Action    = "sts:AssumeRole"
                      + Effect    = "Allow"
                      + Principal = {
                          + Service = "lambda.amazonaws.com"
                        }
                      + Sid       = ""
                    },
                ]
              + Version   = "2012-10-17"
            }
        )
      + create_date           = (known after apply)
      + force_detach_policies = false
      + id                    = (known after apply)
      + max_session_duration  = 3600
      + name                  = "ajay_iam_message"
      + path                  = "/"
      + unique_id             = (known after apply)
    }

  # module.message.aws_lambda_function.message_lambda will be created
  + resource "aws_lambda_function" "message_lambda" {
      + arn                            = (known after apply)
      + filename                       = "modules/MESSAGE/message.py.zip"
      + function_name                  = "ajay_blog_demo_message"
      + handler                        = "message.handler"
      + id                             = (known after apply)
      + invoke_arn                     = (known after apply)
      + last_modified                  = (known after apply)
      + memory_size                    = 128
      + publish                        = false
      + qualified_arn                  = (known after apply)
      + reserved_concurrent_executions = -1
      + role                           = (known after apply)
      + runtime                        = "python3.7"
      + source_code_hash               = "nM4T+j2kfN9FSNFEtQiR8ku76kcixlWdzYwTXm7LQdg="
      + source_code_size               = (known after apply)
      + timeout                        = 3
      + version                        = (known after apply)

      + tracing_config {
          + mode = (known after apply)
        }
    }

  # module.test.aws_iam_role.iam_test will be created
  + resource "aws_iam_role" "iam_test" {
      + arn                   = (known after apply)
      + assume_role_policy    = jsonencode(
            {
              + Statement = [
                  + {
                      + Action    = "sts:AssumeRole"
                      + Effect    = "Allow"
                      + Principal = {
                          + Service = "lambda.amazonaws.com"
                        }
                      + Sid       = ""
                    },
                ]
              + Version   = "2012-10-17"
            }
        )
      + create_date           = (known after apply)
      + force_detach_policies = false
      + id                    = (known after apply)
      + max_session_duration  = 3600
      + name                  = "ajay_iam_test"
      + path                  = "/"
      + unique_id             = (known after apply)
    }

  # module.test.aws_lambda_function.test_lambda will be created
  + resource "aws_lambda_function" "test_lambda" {
      + arn                            = (known after apply)
      + filename                       = "modules/TESTING/testing.py.zip"
      + function_name                  = "ajay_blog_demo_test"
      + handler                        = "testing.handler"
      + id                             = (known after apply)
      + invoke_arn                     = (known after apply)
      + last_modified                  = (known after apply)
      + memory_size                    = 128
      + publish                        = false
      + qualified_arn                  = (known after apply)
      + reserved_concurrent_executions = -1
      + role                           = (known after apply)
      + runtime                        = "python3.7"
      + source_code_hash               = "ks6vG68zmejFaxT/qPieVzs/tZXJawNQkAyK/9hEBP8="
      + source_code_size               = (known after apply)
      + timeout                        = 3
      + version                        = (known after apply)

      + tracing_config {
          + mode = (known after apply)
        }
    }

Plan: 6 to add, 0 to change, 0 to destroy.

------------------------------------------------------------------------

This plan was saved to: demo_Lambda_final

To perform exactly these actions, run the following command to apply:
    terraform apply "demo_Lambda_final"


[Container] 2020/10/05 01:07:10 Phase complete: BUILD State: SUCCEEDED
[Container] 2020/10/05 01:07:10 Phase context status code:  Message: 
[Container] 2020/10/05 01:07:10 Entering phase POST_BUILD
[Container] 2020/10/05 01:07:10 Running command echo " Completed Terraform Plan phase... "
 Completed Terraform Plan phase... 

[Container] 2020/10/05 01:07:10 Running command echo plan creation completed on `date`
plan creation completed on Mon Oct 5 01:07:10 UTC 2020

[Container] 2020/10/05 01:07:10 Phase complete: POST_BUILD State: SUCCEEDED
[Container] 2020/10/05 01:07:10 Phase context status code:  Message: 
[Container] 2020/10/05 01:07:10 Expanding base directory path: .
[Container] 2020/10/05 01:07:10 Assembling file list
[Container] 2020/10/05 01:07:10 Expanding .
[Container] 2020/10/05 01:07:10 Expanding file paths for base directory .
[Container] 2020/10/05 01:07:10 Assembling file list
[Container] 2020/10/05 01:07:10 Expanding **/*
[Container] 2020/10/05 01:07:10 Found 32 file(s)


